<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camera Control - SimGlass</title>
    <link rel="stylesheet" href="/ui/shared/widget-common.css">
    <link rel="stylesheet" href="/ui/shared/themes.css">
    <link rel="stylesheet" href="/ui/shared/settings-panel.css">
    <link rel="stylesheet" href="/ui/shared/widget-customizer.css">
    <link rel="stylesheet" href="widget.css">
    <script src="/ui/shared/safe-channel.js"></script>
    <script src="/ui/shared/themes.js"></script>
    <script src="/ui/shared/platform-utils.js"></script>
    <script src="/ui/shared/telemetry.js"></script>
    <script src="/ui/shared/feedback-section.js"></script>
    <script src="/ui/shared/widget-base.js"></script>
</head>
<body>
    <button class="settings-btn" id="settings-btn" title="Settings">‚öôÔ∏è</button>
    <button class="compact-toggle" id="compact-toggle" title="Toggle compact mode">&#9638;</button>

    <div class="widget-container" id="widget-root">
        <!-- ============ FULL LAYOUT ============ -->
        <div class="cam-full" id="cam-full">
        <div class="widget camera-widget">
        <div class="widget-header">
            <span class="widget-title">üì∑ CAMERA CONTROL</span>
            <span class="widget-brand">SimGlass</span>
            <span class="connection-status" id="conn-status" title="Disconnected">‚óè</span>
        </div>

        <div class="widget-content">
            <!-- View Buttons -->
            <div class="section">
                <div class="section-title">Views</div>
                <div class="button-grid">
                    <button class="cam-btn" data-action="cockpit" title="Cockpit View">
                        <span class="icon">üéØ</span>
                        <span class="label">Cockpit</span>
                    </button>
                    <button class="cam-btn" data-action="external" title="External/Chase View">
                        <span class="icon">‚úàÔ∏è</span>
                        <span class="label">External</span>
                    </button>
                    <button class="cam-btn" data-action="drone" title="Drone View">
                        <span class="icon">üöÅ</span>
                        <span class="label">Drone</span>
                    </button>
                    <button class="cam-btn" data-action="topdown" title="Top-Down View">
                        <span class="icon">‚¨áÔ∏è</span>
                        <span class="label">Top Down</span>
                    </button>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="section">
                <div class="section-title">Quick Actions</div>
                <div class="button-row">
                    <button class="cam-btn wide" data-action="toggle" title="Toggle Cockpit/External">
                        <span class="icon">üîÑ</span>
                        <span class="label">Toggle View</span>
                    </button>
                    <button class="cam-btn wide" data-action="cycle" title="Cycle Through Views">
                        <span class="icon">‚Üª</span>
                        <span class="label">Cycle</span>
                    </button>
                </div>
            </div>

            <!-- Cinematic Modes -->
            <div class="section">
                <div class="section-title">Cinematic</div>
                <div class="button-grid">
                    <button class="cam-btn cinematic" data-action="flyby" title="Flyby Mode">
                        <span class="icon">üé¨</span>
                        <span class="label">Flyby</span>
                    </button>
                    <button class="cam-btn cinematic" data-action="orbit" title="Orbit Mode">
                        <span class="icon">üåÄ</span>
                        <span class="label">Orbit</span>
                    </button>
                    <button class="cam-btn stop" data-action="stop" title="Stop Cinematic">
                        <span class="icon">‚èπÔ∏è</span>
                        <span class="label">Stop</span>
                    </button>
                    <button class="cam-btn" data-action="reset" title="Reset Camera">
                        <span class="icon">‚Ü©Ô∏è</span>
                        <span class="label">Reset</span>
                    </button>
                </div>
            </div>

            <!-- Zoom Control -->
            <div class="section">
                <div class="section-title">Zoom</div>
                <div class="zoom-control">
                    <button class="zoom-btn" data-action="zoomout" title="Zoom Out">‚àí</button>
                    <input type="range" id="zoomSlider" min="0" max="100" value="50" class="zoom-slider">
                    <button class="zoom-btn" data-action="zoomin" title="Zoom In">+</button>
                </div>
                <div class="zoom-value"><span id="zoomValue">50</span>%</div>
            </div>

            <!-- Smart Camera -->
            <div class="section">
                <div class="section-title">Smart Camera</div>
                <div class="button-row">
                    <button class="cam-btn smart" data-action="smart" title="Enable Smart Camera">
                        <span class="icon">üéØ</span>
                        <span class="label">Smart On</span>
                    </button>
                    <button class="cam-btn" data-action="smartoff" title="Disable Smart Camera">
                        <span class="icon">‚ùå</span>
                        <span class="label">Smart Off</span>
                    </button>
                    <button class="cam-btn" data-action="smartnext" title="Next Target">
                        <span class="icon">‚û°Ô∏è</span>
                        <span class="label">Next</span>
                    </button>
                </div>
            </div>

            <!-- Presets -->
            <div class="section">
                <div class="section-title">Presets</div>
                <div class="preset-grid" id="presetGrid">
                    <!-- Generated by JS -->
                </div>
            </div>
        </div>
    </div>
        </div> <!-- cam-full -->

        <!-- ============ COMPACT CAMERA LAYOUT ============ -->
        <div class="cam-compact" id="cam-compact">
            <div class="cam-compact-cell cam-view-cell">
                <span class="lbl">VIEW</span>
                <span class="val" id="cam-view-name">Cockpit</span>
            </div>
            <div class="cam-nav">
                <button id="cam-prev" title="Previous view">&#9664;</button>
                <button id="cam-next" title="Next view">&#9654;</button>
            </div>
        </div>
    </div> <!-- widget-container -->

    <script src="/ui/shared/settings-panel.js"></script>
    <script src="/ui/shared/widget-customizer.js"></script>
    <script src="pane.js"></script>
    <script>
        const settings = new SettingsPanel();
        const customizer = new WidgetCustomizer({ widgetId: 'camera-widget', settingsPanel: settings });
        document.getElementById('settings-btn').addEventListener('click', () => settings.toggle());
    </script>
</body>
</html>
