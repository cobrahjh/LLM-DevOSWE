<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Failures">
    <link rel="manifest" href="/ui/manifest.json">
    <link rel="icon" type="image/svg+xml" href="/ui/icons/icon.svg">
    <title>Failures Monitor - SimGlass</title>
    <link rel="stylesheet" href="/ui/shared/widget-common.css">
    <link rel="stylesheet" href="/ui/shared/themes.css">
    <link rel="stylesheet" href="/ui/shared/settings-panel.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <button class="settings-btn" id="settings-btn" title="Settings">‚öôÔ∏è</button>
    <div class="widget-container">
        <div class="widget-header">
            <span class="widget-title">‚ö†Ô∏è Failures Monitor</span>
            <div class="header-controls">
                <button class="btn-icon" id="btn-clear" title="Clear All Failures">üîÑ</button>
                <span class="connection-status" id="conn-status" title="SimConnect Status">‚óè</span>
            </div>
        </div>

        <div class="status-summary" id="status-summary">
            <div class="status-indicator ok" id="overall-status">
                <span class="status-icon">‚úì</span>
                <span class="status-text">All Systems Normal</span>
            </div>
        </div>

        <div class="systems-grid">
            <div class="system-card" data-system="engine1">
                <div class="system-icon">üîß</div>
                <div class="system-name">Engine 1</div>
                <div class="system-status ok" id="status-engine1">OK</div>
            </div>
            <div class="system-card" data-system="engine2">
                <div class="system-icon">üîß</div>
                <div class="system-name">Engine 2</div>
                <div class="system-status ok" id="status-engine2">OK</div>
            </div>
            <div class="system-card" data-system="electrical">
                <div class="system-icon">‚ö°</div>
                <div class="system-name">Electrical</div>
                <div class="system-status ok" id="status-electrical">OK</div>
            </div>
            <div class="system-card" data-system="hydraulic">
                <div class="system-icon">üíß</div>
                <div class="system-name">Hydraulics</div>
                <div class="system-status ok" id="status-hydraulic">OK</div>
            </div>
            <div class="system-card" data-system="fuel">
                <div class="system-icon">‚õΩ</div>
                <div class="system-name">Fuel</div>
                <div class="system-status ok" id="status-fuel">OK</div>
            </div>
            <div class="system-card" data-system="avionics">
                <div class="system-icon">üì°</div>
                <div class="system-name">Avionics</div>
                <div class="system-status ok" id="status-avionics">OK</div>
            </div>
            <div class="system-card" data-system="gear">
                <div class="system-icon">üõû</div>
                <div class="system-name">Gear</div>
                <div class="system-status ok" id="status-gear">OK</div>
            </div>
            <div class="system-card" data-system="flaps">
                <div class="system-icon">‚úàÔ∏è</div>
                <div class="system-name">Flaps</div>
                <div class="system-status ok" id="status-flaps">OK</div>
            </div>
        </div>

        <div class="failures-list" id="failures-list">
            <div class="list-header">Active Failures</div>
            <div class="list-content" id="list-content">
                <div class="no-failures">No active failures</div>
            </div>
        </div>

        <div class="quick-actions">
            <div class="section-header">Quick Failures (Test)</div>
            <div class="action-grid">
                <button class="action-btn" data-failure="engine1">ENG 1</button>
                <button class="action-btn" data-failure="engine2">ENG 2</button>
                <button class="action-btn" data-failure="electrical">ELEC</button>
                <button class="action-btn" data-failure="hydraulic">HYD</button>
            </div>
        </div>
    </div>

    <script src="/ui/shared/pwa-init.js"></script>
    <script src="/ui/shared/safe-channel.js"></script>
    <script src="/ui/shared/themes.js"></script>
    <script src="/ui/shared/platform-utils.js"></script>
    <script src="/ui/shared/telemetry.js"></script>
    <script src="/ui/shared/settings-panel.js"></script>
    <script src="/ui/shared/feedback-section.js"></script>
    <script src="/ui/shared/widget-base.js"></script>
    <script src="/ui/shared/theme-switcher.js"></script>
    <script src="/ui/shared/voice-announcer.js"></script>
    <script src="glass.js"></script>
    <script>
        const settings = new SettingsPanel();
        settings.registerThemeSection();
        document.getElementById('settings-btn').addEventListener('click', () => settings.toggle());
    </script>
</body>
</html>
